{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// LoginForm.jsx\nimport{useState}from'react';import*as usersService from'../../utilities/users-service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginForm(_ref){var setUser=_ref.setUser;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];function handleChange(evt){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},evt.target.name,evt.target.value)));setError('');}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Prevent form from being submitted to the server\nevt.preventDefault();_context.prev=1;_context.next=4;return usersService.login(credentials);case 4:user=_context.sent;setUser(user);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError('Log In Failed - Try Again');case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:credentials.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"LOG IN\"})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\xA0\",error]})]});}","map":{"version":3,"names":["useState","usersService","LoginForm","setUser","email","password","credentials","setCredentials","error","setError","handleChange","evt","target","name","value","handleSubmit","preventDefault","login","user"],"sources":["/Users/bencampero/code/project-3-base/src/components/LoginForm/LoginForm.jsx"],"sourcesContent":["// LoginForm.jsx\n\nimport { useState } from 'react';\nimport * as usersService from '../../utilities/users-service';\n\nexport default function LoginForm({ setUser }) {\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n\n  function handleChange(evt) {\n    setCredentials({ ...credentials, [evt.target.name]: evt.target.value });\n    setError('');\n  }\n\n  async function handleSubmit(evt) {\n    // Prevent form from being submitted to the server\n    evt.preventDefault();\n    try {\n      // The promise returned by the signUp service method \n      // will resolve to the user object included in the\n      // payload of the JSON Web Token (JWT)\n      const user = await usersService.login(credentials);\n      setUser(user);\n    } catch {\n      setError('Log In Failed - Try Again');\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"form-container\">\n        <form autoComplete=\"off\" onSubmit={handleSubmit}>\n          <label>Email</label>\n          <input type=\"text\" name=\"email\" value={credentials.email} onChange={handleChange} required />\n          <label>Password</label>\n          <input type=\"password\" name=\"password\" value={credentials.password} onChange={handleChange} required />\n          <button type=\"submit\">LOG IN</button>\n        </form>\n      </div>\n      <p className=\"error-message\">&nbsp;{error}</p>\n    </div>\n  );\n}\n"],"mappings":"wnBAAA;AAEA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAO,GAAKC,aAAZ,KAA8B,+BAA9B,C,wFAEA,cAAe,SAASC,UAAT,MAAgC,IAAXC,QAAW,MAAXA,OAAW,CAC7C,cAAsCH,QAAQ,CAAC,CAC7CI,KAAK,CAAE,EADsC,CAE7CC,QAAQ,CAAE,EAFmC,CAAD,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eAIA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eAEA,QAASC,aAAT,CAAsBC,GAAtB,CAA2B,CACzBJ,cAAc,gCAAMD,WAAN,wBAAoBK,GAAG,CAACC,MAAJ,CAAWC,IAA/B,CAAsCF,GAAG,CAACC,MAAJ,CAAWE,KAAjD,GAAd,CACAL,QAAQ,CAAC,EAAD,CAAR,CACD,CAV4C,QAY9BM,aAZ8B,kJAY7C,iBAA4BJ,GAA5B,6HACE;AACAA,GAAG,CAACK,cAAJ,GAFF,sCAOuBf,aAAY,CAACgB,KAAb,CAAmBX,WAAnB,CAPvB,QAOUY,IAPV,eAQIf,OAAO,CAACe,IAAD,CAAP,CARJ,+EAUIT,QAAQ,CAAC,2BAAD,CAAR,CAVJ,oEAZ6C,+CA0B7C,mBACE,oCACE,YAAK,SAAS,CAAC,gBAAf,uBACE,cAAM,YAAY,CAAC,KAAnB,CAAyB,QAAQ,CAAEM,YAAnC,wBACE,gCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAET,WAAW,CAACF,KAAnD,CAA0D,QAAQ,CAAEM,YAApE,CAAkF,QAAQ,KAA1F,EAFF,cAGE,mCAHF,cAIE,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAEJ,WAAW,CAACD,QAA1D,CAAoE,QAAQ,CAAEK,YAA9E,CAA4F,QAAQ,KAApG,EAJF,cAKE,eAAQ,IAAI,CAAC,QAAb,oBALF,GADF,EADF,cAUE,WAAG,SAAS,CAAC,eAAb,kBAAoCF,KAApC,GAVF,GADF,CAcD"},"metadata":{},"sourceType":"module"}