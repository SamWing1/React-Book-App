{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/bencampero/code/project-3-base/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from'react';import{signUp}from'../../utilities/users-service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpForm=/*#__PURE__*/function(_Component){_inherits(SignUpForm,_Component);var _super=_createSuper(SignUpForm);function SignUpForm(){var _this;_classCallCheck(this,SignUpForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:'',email:'',password:'',confirm:'',error:''};_this.handleChange=function(evt){var _this$setState;_this.setState((_this$setState={},_defineProperty(_this$setState,evt.target.name,evt.target.value),_defineProperty(_this$setState,\"error\",''),_this$setState));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var formData,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.prev=1;formData=_objectSpread({},_this.state);delete formData.confirm;delete formData.error;_context.next=7;return signUp(formData);case 7:user=_context.sent;_this.props.setUser(user);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);// An error occurred, like a dup email address\n_this.setState({error:'Sign Up Failed - Try Again'});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(SignUpForm,[{key:\"render\",value:function render(){var disable=this.state.password!==this.state.confirm;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:this.state.name,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:this.state.email,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirm\",value:this.state.confirm,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:disable,children:\"SIGN UP\"})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\xA0\",this.state.error]})]});}}]);return SignUpForm;}(Component);export{SignUpForm as default};","map":{"version":3,"names":["Component","signUp","SignUpForm","state","name","email","password","confirm","error","handleChange","evt","setState","target","value","handleSubmit","preventDefault","formData","user","props","setUser","disable"],"sources":["/Users/bencampero/code/project-3-base/src/components/SignUpForm/SignUpForm.jsx"],"sourcesContent":["import { Component } from 'react';\nimport { signUp } from '../../utilities/users-service';\n\nexport default class SignUpForm extends Component {\n  state = {\n    name: '',\n    email: '',\n    password: '',\n    confirm: '',\n    error: ''\n  };\n\n  handleChange = (evt) => {\n    this.setState({\n      [evt.target.name]: evt.target.value,\n      error: ''\n    });\n  };\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    try {\n      const formData = {...this.state};\n      delete formData.confirm;\n      delete formData.error;\n      const user = await signUp(formData);\n      this.props.setUser(user);\n    } catch {\n      // An error occurred, like a dup email address\n      this.setState({ error: 'Sign Up Failed - Try Again' });\n    }\n  };\n\n  \n  render() {\n    const disable = this.state.password !== this.state.confirm;\n    return (\n      <div>\n        <div className=\"form-container\">\n          <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n            <label>Name</label>\n            <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.handleChange} required />\n            <label>Email</label>\n            <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} required />\n            <label>Password</label>\n            <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} required />\n            <label>Confirm</label>\n            <input type=\"password\" name=\"confirm\" value={this.state.confirm} onChange={this.handleChange} required />\n            <button type=\"submit\" disabled={disable}>SIGN UP</button>\n          </form>\n        </div>\n        <p className=\"error-message\">&nbsp;{this.state.error}</p>\n      </div>\n    );\n  }\n  \n}"],"mappings":"y9BAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,MAAT,KAAuB,+BAAvB,C,2FAEqBC,W,2UACnBC,K,CAAQ,CACNC,IAAI,CAAE,EADA,CAENC,KAAK,CAAE,EAFD,CAGNC,QAAQ,CAAE,EAHJ,CAINC,OAAO,CAAE,EAJH,CAKNC,KAAK,CAAE,EALD,C,OAQRC,Y,CAAe,SAACC,GAAD,CAAS,oBACtB,MAAKC,QAAL,mDACGD,GAAG,CAACE,MAAJ,CAAWR,IADd,CACqBM,GAAG,CAACE,MAAJ,CAAWC,KADhC,yCAES,EAFT,mBAID,C,OAEDC,Y,4FAAe,iBAAOJ,GAAP,sIACbA,GAAG,CAACK,cAAJ,GADa,gBAGLC,QAHK,kBAGU,MAAKb,KAHf,EAIX,MAAOa,SAAQ,CAACT,OAAhB,CACA,MAAOS,SAAQ,CAACR,KAAhB,CALW,sBAMQP,OAAM,CAACe,QAAD,CANd,QAMLC,IANK,eAOX,MAAKC,KAAL,CAAWC,OAAX,CAAmBF,IAAnB,EAPW,iFASX;AACA,MAAKN,QAAL,CAAc,CAAEH,KAAK,CAAE,4BAAT,CAAd,EAVW,qE,0HAef,iBAAS,CACP,GAAMY,QAAO,CAAG,KAAKjB,KAAL,CAAWG,QAAX,GAAwB,KAAKH,KAAL,CAAWI,OAAnD,CACA,mBACE,oCACE,YAAK,SAAS,CAAC,gBAAf,uBACE,cAAM,YAAY,CAAC,KAAnB,CAAyB,QAAQ,CAAE,KAAKO,YAAxC,wBACE,+BADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,KAAK,CAAE,KAAKX,KAAL,CAAWC,IAAjD,CAAuD,QAAQ,CAAE,KAAKK,YAAtE,CAAoF,QAAQ,KAA5F,EAFF,cAGE,gCAHF,cAIE,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,KAAK,CAAE,KAAKN,KAAL,CAAWE,KAAnD,CAA0D,QAAQ,CAAE,KAAKI,YAAzE,CAAuF,QAAQ,KAA/F,EAJF,cAKE,mCALF,cAME,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAE,KAAKN,KAAL,CAAWG,QAAzD,CAAmE,QAAQ,CAAE,KAAKG,YAAlF,CAAgG,QAAQ,KAAxG,EANF,cAOE,kCAPF,cAQE,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,SAA5B,CAAsC,KAAK,CAAE,KAAKN,KAAL,CAAWI,OAAxD,CAAiE,QAAQ,CAAE,KAAKE,YAAhF,CAA8F,QAAQ,KAAtG,EARF,cASE,eAAQ,IAAI,CAAC,QAAb,CAAsB,QAAQ,CAAEW,OAAhC,qBATF,GADF,EADF,cAcE,WAAG,SAAS,CAAC,eAAb,kBAAoC,KAAKjB,KAAL,CAAWK,KAA/C,GAdF,GADF,CAkBD,C,wBAnDqCR,S,SAAnBE,U"},"metadata":{},"sourceType":"module"}